# 画面設計・UI要件定義書

## 1. デザイン基本方針

### 1.1 デザインコンセプト
- **シンプル・直感的**：最小限の操作で目的達成
- **スピード重視**：買い物直後の素早い入力を最優先
- **視認性**：重要な情報が一目で分かるデザイン
- **親しみやすさ**：夫婦で気軽に使える温かみのあるデザイン

### 1.2 デザインシステム
- **カラーパレット**
  - プライマリ：温かみのある緑系（#4CAF50）
  - セカンダリ：優しいブルー系（#2196F3）
  - 警告色：オレンジ系（#FF9800）予算超過時
  - エラー色：赤系（#F44336）
- **タイポグラフィ**
  - 日本語：Noto Sans JP
  - 英数字：Roboto
  - 基本サイズ：16px（スマホ）、14px（PC）
- **アイコン**
  - Material Design Icons
  - 統一感のあるアウトライン系アイコン

## 2. 画面構成・ナビゲーション

### 2.1 メイン画面構成
```
[ヘッダー]
├── アプリ名「ポチポチ」
├── 月選択（< 2024年1月 >）
└── ユーザー切替（夫/妻）

[メインコンテンツ]
├── 今月の支出サマリー
│   ├── 今月の支出合計
│   ├── 予算残高
│   └── 予算達成率（プログレスバー）
├── 支出登録ボタン（大きく目立つ）
└── 今日の支出一覧

[ボトムナビゲーション]
├── ホーム（支出入力画面）
├── カレンダー
├── レポート
└── 設定
```

### 2.2 ナビゲーション構造
- **メイン**：ボトムナビゲーション（4タブ）
- **サブ**：画面内のセクション切替
- **戻る**：明確な戻るボタン・パンくずリスト

## 3. 主要画面詳細設計

### 3.1 ホーム画面（支出入力画面）
**目的**：素早い支出登録（デフォルト：今日の日付）

**レイアウト**：
```
[ヘッダー]
├── 今月の予算残高（簡易表示）
└── 📅 2024/01/20 (今日) [変更]

[メイン入力エリア]
├── 金額入力（大きなテンキー）
├── カテゴリ選択（アイコングリッド）
├── サブカテゴリ（選択後に表示）
└── メモ（オプション）

[アクション]
├── [登録] ボタン（プライマリ）
└── 今日の支出一覧（登録後に表示）
```

**特徴**：
- 買い物直後の即座入力に最適化
- 日付は今日がデフォルト、タップで変更可能
- 登録後は同じ画面で次の入力が可能

### 3.2 カレンダー画面
**目的**：月間の支出状況確認と過去データ入力

**レイアウト**：
```
[ヘッダー]
├── < 2024年1月 > （月移動）
└── 今月合計：¥45,000 / 予算：¥60,000

[カレンダー表示]
├── 日 月 火 水 木 金 土
├── 1   2   3   4   5   6   7
│   ¥500     ¥1,200  ¥800
├── 8   9  10  11  12  13  14
│   ¥300 ●20 ¥2,500         ← ●20は選択中
└── ...

[選択日の詳細（下部）]
├── 1月20日の支出
├── 🍽️ コンビニ弁当    ¥500
├── 🛒 スーパー      ¥1,200  
├── 合計: ¥1,700
└── [+ 支出を追加] ボタン
```

**インタラクション**：
- 日付タップ：その日の詳細表示
- [+ 支出を追加]：選択した日付で入力画面へ
- 空の日付タップ：直接入力画面へ
- **支出項目タップ：編集画面へ遷移**

### 3.2.1 カレンダーからの編集機能
```
[支出項目タップ時]
🍽️ コンビニ弁当 ¥500 ← タップ
↓
編集画面（入力画面と同じUI）
├── 金額: [500] ← プリセット
├── カテゴリ: [食費] ← プリセット
├── サブカテゴリ: [外食] ← プリセット
├── 日付: [2024/01/20] ← プリセット
├── メモ: [コンビニ弁当] ← プリセット
├── [更新] ボタン
├── [削除] ボタン
└── [キャンセル] ボタン
```

**編集画面の特徴**：
- 既存データがすべてプリセット済み
- 入力画面と同じUIで一貫性保持
- 更新・削除・キャンセルの3つのアクション
- 更新後はカレンダー画面に戻る

### 3.3 レポート画面
**目的**：支出傾向の分析・予算管理

**レイアウト**：
```
[期間選択]
└── 月選択スライダー

[メインレポート]
├── 支出推移グラフ（折れ線）
├── カテゴリ別円グラフ
└── 予算vs実績比較（棒グラフ）

[詳細統計]
├── カテゴリ別支出ランキング
├── 平均支出（日/週/月）
└── 前月比較
```

### 3.4 設定画面
**目的**：アプリの各種設定管理

**レイアウト**：
```
[アカウント]
├── ユーザー情報
└── 夫婦アカウント設定

[予算設定]
├── 月次予算設定
├── カテゴリ別予算
└── 通知設定

[カテゴリ管理]
├── カテゴリ一覧
├── 追加・編集・削除
└── アイコン設定

[アプリ設定]
├── テーマ設定
├── 通知設定
└── データエクスポート
```

## 4. レスポンシブデザイン要件

### 4.1 スマートフォン（主要）
- **画面サイズ**：360px〜414px
- **操作**：タッチ操作最適化
- **レイアウト**：シングルカラム
- **フォント**：16px以上（読みやすさ重視）

### 4.2 PC・タブレット
- **画面サイズ**：768px以上
- **操作**：マウス・キーボード対応
- **レイアウト**：マルチカラム活用
- **追加機能**：詳細表示、一括操作

## 5. インタラクション設計

### 5.1 基本操作パターン
- **タップ**：選択・決定
- **ロングタップ**：コンテキストメニュー
- **スワイプ**：編集・削除アクション
- **プルトゥリフレッシュ**：データ更新

### 5.2 フィードバック
- **視覚的**：ボタンの状態変化、ローディング表示
- **触覚的**：重要なアクション時の軽微な振動
- **聴覚的**：登録完了音（オプション）

## 6. アクセシビリティ要件

### 6.1 視覚的配慮
- **コントラスト比**：4.5:1以上
- **フォントサイズ**：拡大縮小対応
- **色だけに依存しない情報表示**

### 6.2 操作的配慮
- **タッチターゲット**：44px×44px以上
- **音声読み上げ**：適切なラベル設定
- **キーボードナビゲーション**：PC利用時

## 7. パフォーマンス要件

### 7.1 表示速度
- **初回読み込み**：2秒以内
- **画面遷移**：1秒以内
- **データ更新**：即座に反映

### 7.2 オフライン対応
- **キャッシュ**：最近の支出データ
- **オフライン入力**：一時保存機能
- **同期**：オンライン復帰時の自動同期

## 8. 実装優先度

### 8.1 MVP（最小実行可能製品）
1. ホーム画面（基本サマリー）
2. 支出登録画面（手動入力）
3. 支出一覧画面（基本表示）
4. 基本カテゴリ管理

### 8.2 フェーズ2
1. レポート画面（グラフ表示）
2. 予算設定・管理機能
3. PC対応レスポンシブ
4. 詳細設定画面

### 8.3 フェーズ3
1. クレジットカード連携UI
2. 高度な分析機能
3. カスタマイズ機能
4. パフォーマンス最適化